<!DOCTYPE html>
<html lang="en" dir="ltr">

<body>
  <form method="post">
    {% csrf_token %}
    <input type="text" name="city" placeholder="Search">
    <input type="hidden" id="clientlatitude" name="clientlatitude" value="NULL">
    <input type="hidden" id="clientlongitude" name="clientlongitude" value="NULL">
  <form>
  <div>
    {% if coordinate and temp and user_coordinate%}
      <div>
        <h2>You Entered: {{location_title}}</h2>
        <h2>It looks like you are traveling from {{user_coordinate}} to {{coordinate}}.<br>The distance to your destination is {{distance}} away and the temperature there is currently {{temp}}</h5>
      </div>
    {% endif %}
    <div>
      <h3 id="info"></h3>
    </div>
  </div>
</body>

</html>

<script>
navigator.geolocation.getCurrentPosition(locationSuccess,locationFailure);

function locationSuccess(position) {
  document.getElementById("clientlatitude").value = position.coords.latitude;
  document.getElementById("clientlongitude").value = position.coords.longitude;
}
function locationFailure(position) {
  document.getElementById("info").innerHTML = "Please allow this website to access your locations";
}
</script>
